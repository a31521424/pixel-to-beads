# 图片转MARD拼豆图纸工具

将任意图片转换为MARD拼豆手工图纸的纯前端工具。

## 功能特性

### 核心功能
- 📷 支持点击上传和拖拽上传图片
- 🎨 MARD 293色完整配色支持
- 📐 自定义图纸尺寸（10-100 珠）
- 🔢 显示MARD色号（A1、B5、C12等）
- 📊 智能材料清单统计
- 💾 高分辨率PNG图纸下载（4x渲染质量）

### 颜色预设系统
- 🎯 **6种预设模板**：入门10色、标准20色、进阶30色、专业50色、大师100色、全色系293色
- 🎨 **自定义颜色选择**：从293色中自由选择拥有的豆子颜色
- 💾 **本地存储**：自定义颜色通过localStorage永久保存

### 交互功能
- 🔍 **缩放功能**：50%-300%自由缩放图纸
- 📍 **坐标高亮**：点击珠子查看坐标和颜色信息
- ✨ **相同颜色高亮**：一键高亮所有相同颜色的珠子
- 👁️ **相同颜色隐藏**：一键隐藏相同颜色便于查看其他颜色
- 🎛️ **控制面板收起**：移动端/iPad可收起控制面板节省空间

### 响应式设计
- 💻 **PC端**：固定布局，左右分栏，控制面板320px
- 📱 **iPad**：左右布局，控制面板280px，可收起
- 📱 **手机**：流式上下布局，控制面板可收起，坐标信息固定右下角

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发调试

```bash
npm run dev
```

开发服务器将在 `http://localhost:3000` 启动（如端口占用会自动使用其他端口）。

### 构建生产版本

```bash
npm run build
npm run preview
```

构建产物将输出到 `dist/` 目录。

## 使用方法

### 基础使用
1. 上传一张图片（点击或拖拽）
2. 选择颜色预设（或自定义颜色）
3. 调整图纸尺寸（宽度/高度）
4. 点击"生成图纸"
5. 查看图纸和材料清单
6. 下载高清图纸用于制作

### 高级功能
- **缩放图纸**：使用 + / - 按钮或⊙重置缩放
- **查看坐标**：点击任意珠子查看坐标（如A1、B5）和颜色
- **高亮颜色**：选中珠子后点击🔆按钮高亮相同颜色
- **隐藏颜色**：选中珠子后点击👁️按钮隐藏相同颜色
- **收起面板**：移动端/iPad点击右上角☰按钮收起控制面板

## 项目结构

```
pixel-to-beads/
├── index.html                 # 主页面
├── vite.config.js             # Vite配置
├── package.json               # 项目依赖
├── src/
│   ├── app.js                 # 核心逻辑
│   ├── colorSchemes.js        # MARD配色管理
│   ├── colorPresets.js        # 颜色预设和自定义管理
│   ├── mard-color.json        # MARD 293色配色表
│   ├── styles.css             # 样式文件
│   └── assets/                # 资源文件
├── README.md                  # 项目说明
└── CLAUDE.md                  # AI开发规则
```

## 技术栈

- **纯前端** - HTML、CSS、JavaScript
- **Vite** - 开发服务器和构建工具
- **Canvas API** - 高分辨率图纸渲染（4x）
- **颜色量化** - 欧几里得距离算法
- **localStorage** - 自定义颜色持久化

## 颜色预设说明

| 预设名称 | 颜色数量 | 适用场景 |
|---------|---------|---------|
| 入门10色 | 10色 | 新手推荐，覆盖基本色系 |
| 标准20色 | 20色 | 日常创作，色彩表现力强 |
| 进阶30色 | 30色 | 复杂图案，色彩层次丰富 |
| 专业50色 | 50色 | 精细作品，色彩还原度高 |
| 大师100色 | 100色 | 超大型作品，极致色彩表现 |
| 全色系 | 293色 | MARD完整色系，专业级作品 |
| 自定义 | 任意 | 根据手中拥有的豆子自由选择 |

## MARD配色

支持293种MARD品牌拼豆颜色，色号格式：
- A系列：A1-A26（黄橙色系）
- B系列：B1-B32（绿色系）
- C系列：C1-C29（蓝青色系）
- D系列：D1-D26（紫色系）
- E系列：E1-E24
- F系列：F1-F25
- G系列：G1-G21
- H系列：H1-H23（棕色系）
- M系列：M1-M15（黑白灰）
- P系列：P1-P23（粉色系）
- Q系列：Q1-Q5
- R系列：R1-R28（红色系）
- T系列：T1
- Y系列：Y1-Y5
- ZG系列：ZG1-ZG8

## 浏览器兼容性

- Chrome/Edge 80+
- Firefox 75+
- Safari 13+
- 移动端Safari/Chrome

## 性能优化

- ✅ 4x高分辨率渲染确保下载图纸质量
- ✅ requestAnimationFrame优化重绘性能
- ✅ 批量绘制网格线避免重复strokeRect
- ✅ 移动端流式布局避免固定高度限制
- ✅ 智能缩放算法根据容器自适应

## 许可证

本项目采用 [GNU General Public License v3.0](LICENSE) 开源协议。

## 作者与仓库

- **作者**: [banbxio](https://github.com/a31521424)
- **仓库**: [https://github.com/a31521424/pixel-to-beads](https://github.com/a31521424/pixel-to-beads)
- **问题反馈**: [GitHub Issues](https://github.com/a31521424/pixel-to-beads/issues)

## 更新日志

### v2.0.0 (Current)
- ➕ 新增6种颜色预设模板系统
- ➕ 新增自定义颜色选择功能
- ➕ 新增localStorage持久化存储
- ➕ 新增缩放功能（50%-300%）
- ➕ 新增坐标高亮和查看功能
- ➕ 新增相同颜色高亮/隐藏功能
- ➕ 新增控制面板展开/收起功能
- 🔧 优化移动端为流式布局
- 🔧 提升图纸渲染质量至4x
- 🔧 优化移动端坐标信息为浮窗显示

### v1.0.0
- ✅ 完整MARD配色支持
- ✅ 响应式设计
- ✅ 悬浮材料抽屉
